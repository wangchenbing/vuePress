<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hooks函数组件 | 阿冰の神秘小屋</title>
    <meta name="generator" content="VuePress 1.5.0">
    <script src="/vuePress/assets/js/bodyClick.js"></script>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/vuePress/assets/css/0.styles.3b29b23e.css" as="style"><link rel="preload" href="/vuePress/assets/js/app.706f163f.js" as="script"><link rel="preload" href="/vuePress/assets/js/3.30e1241e.js" as="script"><link rel="preload" href="/vuePress/assets/js/1.4f9bc910.js" as="script"><link rel="preload" href="/vuePress/assets/js/8.8f3551b4.js" as="script"><link rel="prefetch" href="/vuePress/assets/js/10.151cbdde.js"><link rel="prefetch" href="/vuePress/assets/js/11.fd42ffee.js"><link rel="prefetch" href="/vuePress/assets/js/12.508bbade.js"><link rel="prefetch" href="/vuePress/assets/js/13.24b50e5f.js"><link rel="prefetch" href="/vuePress/assets/js/14.d6fa004e.js"><link rel="prefetch" href="/vuePress/assets/js/15.1128655a.js"><link rel="prefetch" href="/vuePress/assets/js/16.4602824c.js"><link rel="prefetch" href="/vuePress/assets/js/17.27985145.js"><link rel="prefetch" href="/vuePress/assets/js/18.f6fafaf0.js"><link rel="prefetch" href="/vuePress/assets/js/19.948a20b8.js"><link rel="prefetch" href="/vuePress/assets/js/20.8c88256c.js"><link rel="prefetch" href="/vuePress/assets/js/21.4c35729f.js"><link rel="prefetch" href="/vuePress/assets/js/22.c3dcbff9.js"><link rel="prefetch" href="/vuePress/assets/js/23.3dae3d80.js"><link rel="prefetch" href="/vuePress/assets/js/24.110b5244.js"><link rel="prefetch" href="/vuePress/assets/js/25.18b33999.js"><link rel="prefetch" href="/vuePress/assets/js/26.52ef4dd9.js"><link rel="prefetch" href="/vuePress/assets/js/27.92c4a16f.js"><link rel="prefetch" href="/vuePress/assets/js/28.b3a329a0.js"><link rel="prefetch" href="/vuePress/assets/js/29.1caab4e4.js"><link rel="prefetch" href="/vuePress/assets/js/30.b16d6223.js"><link rel="prefetch" href="/vuePress/assets/js/31.616bcefd.js"><link rel="prefetch" href="/vuePress/assets/js/32.55716098.js"><link rel="prefetch" href="/vuePress/assets/js/33.f556bd1a.js"><link rel="prefetch" href="/vuePress/assets/js/34.9ea74ca8.js"><link rel="prefetch" href="/vuePress/assets/js/35.54577821.js"><link rel="prefetch" href="/vuePress/assets/js/36.f5937c5b.js"><link rel="prefetch" href="/vuePress/assets/js/37.534fc6ce.js"><link rel="prefetch" href="/vuePress/assets/js/38.2d295085.js"><link rel="prefetch" href="/vuePress/assets/js/39.c3d0878f.js"><link rel="prefetch" href="/vuePress/assets/js/4.6b56de32.js"><link rel="prefetch" href="/vuePress/assets/js/40.00058e5a.js"><link rel="prefetch" href="/vuePress/assets/js/41.abfdfe8d.js"><link rel="prefetch" href="/vuePress/assets/js/42.97a39e69.js"><link rel="prefetch" href="/vuePress/assets/js/43.c3c06e26.js"><link rel="prefetch" href="/vuePress/assets/js/44.668ab75d.js"><link rel="prefetch" href="/vuePress/assets/js/45.fb2d2499.js"><link rel="prefetch" href="/vuePress/assets/js/46.4ad55584.js"><link rel="prefetch" href="/vuePress/assets/js/47.29372cc0.js"><link rel="prefetch" href="/vuePress/assets/js/48.6ba76dd1.js"><link rel="prefetch" href="/vuePress/assets/js/49.73c56756.js"><link rel="prefetch" href="/vuePress/assets/js/5.13bb2d75.js"><link rel="prefetch" href="/vuePress/assets/js/50.11831d72.js"><link rel="prefetch" href="/vuePress/assets/js/51.c4771144.js"><link rel="prefetch" href="/vuePress/assets/js/52.54dc3e1f.js"><link rel="prefetch" href="/vuePress/assets/js/53.e766d608.js"><link rel="prefetch" href="/vuePress/assets/js/6.d2f5204e.js"><link rel="prefetch" href="/vuePress/assets/js/7.52bdf20b.js"><link rel="prefetch" href="/vuePress/assets/js/9.5cb7e201.js">
    <link rel="stylesheet" href="/vuePress/assets/css/0.styles.3b29b23e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-fc0d0240><div data-v-fc0d0240><div id="loader-wrapper" class="loading-wrapper" data-v-e6aa8828 data-v-fc0d0240 data-v-fc0d0240><div class="loader-main" data-v-e6aa8828><div data-v-e6aa8828></div><div data-v-e6aa8828></div><div data-v-e6aa8828></div><div data-v-e6aa8828></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-3f6e15a2 data-v-fc0d0240 data-v-fc0d0240><h3 class="title" style="display:none;" data-v-3f6e15a2 data-v-3f6e15a2>阿冰の神秘小屋</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-3f6e15a2 data-v-3f6e15a2><input type="password" value="" data-v-3f6e15a2> <span data-v-3f6e15a2>Konck! Knock!</span> <button data-v-3f6e15a2>OK</button></label> <div class="footer" style="display:none;" data-v-3f6e15a2 data-v-3f6e15a2><span data-v-3f6e15a2><i class="iconfont reco-theme" data-v-3f6e15a2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-3f6e15a2>vuePress-theme-reco</a></span> <span data-v-3f6e15a2><i class="iconfont reco-copyright" data-v-3f6e15a2></i> <a data-v-3f6e15a2><span data-v-3f6e15a2>阿冰</span>
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-fc0d0240><header class="navbar" data-v-fc0d0240><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuePress/" class="home-link router-link-active"><!----> <span class="site-name">阿冰の神秘小屋</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuePress/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-date"></i>
      前端黑科技
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuePress/blog/css浪漫动画/手风琴.html" class="nav-link"><i class="iconfont undefined"></i>
  CSSの浪漫
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/blog/js封装工具/时间格式化.html" class="nav-link"><i class="iconfont undefined"></i>
  js封装工具
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/blog/前端工具/spark-md5.html" class="nav-link"><i class="iconfont undefined"></i>
  前端工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      特牛逼の文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuePress/docss/css样式/flex布局.html" class="nav-link"><i class="iconfont undefined"></i>
  css样式
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/docss/jsn/数组.html" class="nav-link"><i class="iconfont undefined"></i>
  js原生
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/docss/webpacks/webpack.html" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/docss/react/公用内容.html" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      码云
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/wang-chenbing/dashboard/projects" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-fc0d0240></div> <aside class="sidebar" data-v-fc0d0240><div class="personal-info-wrapper" data-v-74ee04a6 data-v-fc0d0240><img src="/vuePress/xiao.png" alt="author-avatar" class="personal-img" data-v-74ee04a6> <h3 class="name" data-v-74ee04a6>
    阿冰
  </h3> <div class="num" data-v-74ee04a6><div data-v-74ee04a6><h3 data-v-74ee04a6>13</h3> <h6 data-v-74ee04a6>文章</h6></div> <div data-v-74ee04a6><h3 data-v-74ee04a6>4</h3> <h6 data-v-74ee04a6>标签</h6></div></div> <hr data-v-74ee04a6></div> <nav class="nav-links"><div class="nav-item"><a href="/vuePress/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-date"></i>
      前端黑科技
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuePress/blog/css浪漫动画/手风琴.html" class="nav-link"><i class="iconfont undefined"></i>
  CSSの浪漫
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/blog/js封装工具/时间格式化.html" class="nav-link"><i class="iconfont undefined"></i>
  js封装工具
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/blog/前端工具/spark-md5.html" class="nav-link"><i class="iconfont undefined"></i>
  前端工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      特牛逼の文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuePress/docss/css样式/flex布局.html" class="nav-link"><i class="iconfont undefined"></i>
  css样式
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/docss/jsn/数组.html" class="nav-link"><i class="iconfont undefined"></i>
  js原生
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/docss/webpacks/webpack.html" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/vuePress/docss/react/公用内容.html" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      码云
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/wang-chenbing/dashboard/projects" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuePress/docss/react/公用内容.html" class="sidebar-link">公用内容</a></li><li><a href="/vuePress/docss/react/class类组件.html" class="sidebar-link">class类组件</a></li><li><a href="/vuePress/docss/react/Hooks函数组件.html" class="active sidebar-link">Hooks函数组件</a></li><li><a href="/vuePress/docss/react/源码编写.html" class="sidebar-link">源码编写</a></li><li><a href="/vuePress/docss/react/组件antd注意事项.html" class="sidebar-link">组件antd注意事项</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-3f6e15a2 data-v-fc0d0240><h3 class="title" style="display:none;" data-v-3f6e15a2 data-v-3f6e15a2>Hooks函数组件</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-3f6e15a2 data-v-3f6e15a2><input type="password" value="" data-v-3f6e15a2> <span data-v-3f6e15a2>Konck! Knock!</span> <button data-v-3f6e15a2>OK</button></label> <div class="footer" style="display:none;" data-v-3f6e15a2 data-v-3f6e15a2><span data-v-3f6e15a2><i class="iconfont reco-theme" data-v-3f6e15a2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-3f6e15a2>vuePress-theme-reco</a></span> <span data-v-3f6e15a2><i class="iconfont reco-copyright" data-v-3f6e15a2></i> <a data-v-3f6e15a2><span data-v-3f6e15a2>阿冰</span>
            
          <!---->
          2022
        </a></span></div></div> <div data-v-fc0d0240><main class="page"><div class="page-title" style="display:none;"><h1>Hooks函数组件</h1> <div data-v-21ae4fd6><i class="iconfont reco-account" data-v-21ae4fd6><span data-v-21ae4fd6>阿冰</span></i> <i class="iconfont reco-date" data-v-21ae4fd6><span data-v-21ae4fd6>2022-07-14</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="hooks中父子组件的传值"><a href="#hooks中父子组件的传值" class="header-anchor">#</a> hooks中父子组件的传值</h2> <p>父传子</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//父组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setdata<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">addclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setdata</span><span class="token punctuation">(</span>data <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">子传父</span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addclick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">父按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      &lt;List data = </span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token plain-text"> &gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//子组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">List</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token comment">//父传子的数据</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">父传子</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>子传父:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//父组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>num<span class="token punctuation">,</span> setnum<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//先定义一个暂存数据</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">子传父</span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      &lt;List setshowregisterdata= </span><span class="token punctuation">{</span> setnum <span class="token punctuation">}</span><span class="token plain-text">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//子组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">List</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> setshowregisterdata<span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span><span class="token comment">//自定义方法</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>num<span class="token punctuation">,</span> setnum<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">childadd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">setnum</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token function">setshowregisterdata</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">childadd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">子按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="usestate"><a href="#usestate" class="header-anchor">#</a> useState</h2> <ul><li>State Hook让函数组件也可以有state状态, 并进行状态数据的读写操作</li> <li>语法: const [xxx, setXxx] = React.useState(initValue)</li> <li>useState()说明:
       参数: 第一次初始化指定的值在内部作缓存
       返回值: 包含2个元素的数组, 第1个为内部当前状态值, 第2个为更新状态值的函数</li> <li>setXxx()2种写法:
       setXxx(newValue): 参数为非函数值, 直接指定新的状态值, 内部用其覆盖原来的状态值
       setXxx(value =&gt; newValue): 参数为函数, 接收原本的状态值, 返回新的状态值, 内部用其覆盖原来的状态值</li> <li>更改数组的写法
tabledata[1].state=! tabledata[1].state
console.log(tabledata)
settabledata([...tabledata])</li></ul> <p>若要获取最新值可以使用useEffect()监听状态</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//React.useState()</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setdata<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">add</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setdata</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取状态上一次的值</span>
  <span class="token punctuation">}</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取状态最新值</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前状态:</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>add<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="useeffect"><a href="#useeffect" class="header-anchor">#</a> useEffect</h2> <ul><li>Effect Hook 可以让你在函数组件中执行副作用操作(用于模拟类组件中的生命周期钩子)</li> <li>React中的副作用操作:
       发ajax请求数据获取
       设置订阅 / 启动定时器
       手动更改真实DOM</li> <li>语法和说明:</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code>   <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token comment">// 在此可以执行任何带副作用操作</span>
     <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 在组件卸载前执行</span>
       <span class="token comment">// 在此做一些收尾工作, 比如清除定时器/取消订阅等</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>stateValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 如果指定的是[], 回调函数只会在第一次render()后执行</span>
</code></pre></div><ul><li>可以把 useEffect Hook 看做如下三个函数的组合</li></ul> <p>- componentDidMount()</p> <p>- componentDidUpdate()</p> <p>- componentWillUnmount()</p> <ul><li>Effect中的第二个参数只能监听具有变更效益的状态</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token comment">//React.useEffect()的第二个参数若不写,会监听所有的状态,相当于componentDidMount()与render()</span>
		<span class="token comment">//若传入一个空数组,不会监听所有对象,相当于componentDidMount()</span>
		<span class="token comment">//若把一个状态传入一个数组,那会监听改状态的变更,从而做出回调相当于vue中的watch()</span>
		<span class="token comment">//若返回一个函数,返回函数体内相当于react中的componentWillUnmount()组件卸载  </span>
 React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> time<span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token operator">=&gt;</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Fragment</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前求和:</span><span class="token punctuation">{</span> count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>add<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> +1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>del<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 卸载</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Fragment</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>useEffect不能监听不具有更新方法的状态</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">const</span> <span class="token function-variable function">numset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token comment">//不会触发组件调用</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//只能监听具有更改方法的状态</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>divbox2<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>numset<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">更改num</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="useref-createref"><a href="#useref-createref" class="header-anchor">#</a> useRef (createRef)</h2> <p>useRef 返回一个可变的 ref 对象，其 .current 属性被初始化为传入的参数（initialValue）。
返回的 ref 对象在组件的整个生命周期内保持不变</p> <ul><li>Ref Hook可以在函数组件中存储/查找组件内的标签或任意其它数据</li> <li>语法: const refContainer = useRef()</li> <li>作用:保存标签对象,功能与React.createRef()一样</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> useref <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>useref<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment">//input输入值</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>useref<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>show<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">展示</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>useRef与createRef的区别</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//例1</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> createRef<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">createRef</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inputRef<span class="token punctuation">)</span><span class="token comment">//null</span>

  <span class="token keyword">const</span> useInputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>useInputRef<span class="token punctuation">)</span><span class="token comment">//{current: 2}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">btninputRef</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment">//输入框当前值</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">btnuseInputRef</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>useInputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment">//输入框当前值</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* null */</span><span class="token punctuation">}</span><span class="token plain-text">
      value: </span><span class="token punctuation">{</span>inputRef<span class="token punctuation">.</span>current<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>btninputRef<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">获取焦点</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* useRef初始值 */</span><span class="token punctuation">}</span><span class="token plain-text">
      value: </span><span class="token punctuation">{</span>useInputRef<span class="token punctuation">.</span>current<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>useInputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>btnuseInputRef<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">获取焦点</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//例2</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> createRef<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>num<span class="token punctuation">,</span> setNum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> uRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> cRef <span class="token operator">=</span> <span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token function-variable function">btnClk</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNum</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//使useState的值加1</span>
  <span class="token punctuation">}</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    uRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token operator">=</span> num<span class="token comment">//赋值状态</span>
    cRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token operator">=</span> num<span class="token comment">//赋值状态</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'in effect'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//监听num变化</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uRef<span class="token punctuation">.</span>current<span class="token operator">?.</span>value<span class="token punctuation">)</span><span class="token comment">//过去的状态值</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cRef<span class="token punctuation">.</span>current<span class="token operator">?.</span>value<span class="token punctuation">)</span><span class="token comment">//undefined</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>App<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>uRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>cRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>btnClk<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//每次点击都会执行useRef和createRef,重新执行useRef()返回的对象是旧的，而重新执行createRef()返回一个新的对象</span>
</code></pre></div><p>总结:</p> <p>1.createRef每次重新渲染的时候都会创建一个新的ref对象</p> <p>2.useRef第一次渲染创建一个对象之后,再重新渲染的时候,如果发现这个对象已经创建过就不会再创建第二次，性能会好一些</p> <p>3.尽量在class组件中使用createRef，在hooks中使用useRef</p> <h2 id="usememo-和-usecallback"><a href="#usememo-和-usecallback" class="header-anchor">#</a> useMemo 和 useCallback</h2> <ul><li>两者区别
useMemo 和 useCallback 接收的参数都是一样,第一个参数为回调 第二个参数为要依赖的数据</li></ul> <p>共同作用：</p> <p>1.仅仅 依赖数据 发生变化, 才会重新计算结果，也就是起到缓存的作用。</p> <p>两者区别：</p> <div class="language- extra-class"><pre class="language-text"><code>  1.useMemo 计算结果是 return 回来的值, 主要用于 缓存计算结果的值 ，应用场景如:需要 计算的状态

  2.useCallback 计算结果是 函数, 主要用于 缓存函数，应用场景如: 需要缓存的函数，
    因为函数式组件每次任何一个 state 的变化整个组件都会被重新刷新，一些函数是没有必要被重新刷新的，
    此时就应该缓存起来，提高性能，和减少资源浪费。

  注意： 不要滥用会造成性能浪费，react中减少render就能提高性能，所以这个仅仅只针对缓存能减少重复渲染时使用和缓存计算结果。
</code></pre></div><ul><li>usememo</li></ul> <p>避免调用其他子组件的挂在时的render</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameA<span class="token punctuation">,</span> setNameA<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameB<span class="token punctuation">,</span> setNameB<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameC<span class="token punctuation">,</span> setNameC<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span>

  <span class="token comment">/* 不使用useCallback */</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changeNameFunA</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameA</span><span class="token punctuation">(</span><span class="token string">&quot;AAAA&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changeNameFunB</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameB</span><span class="token punctuation">(</span><span class="token string">&quot;BBBB&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changeNameFunC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameC</span><span class="token punctuation">(</span><span class="token string">&quot;CCCC&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> comA <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">A</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameA<span class="token punctuation">}</span></span> <span class="token attr-name">FunA</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunA<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameA<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> comB <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">B</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameB<span class="token punctuation">}</span></span> <span class="token attr-name">FunB</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunB<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameB<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> comC <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">C</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameC<span class="token punctuation">}</span></span> <span class="token attr-name">FunC</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunC<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameC<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>comA<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>comB<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>comC<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* &lt;A name={nameA} FunA={changeNameFunA}&gt;&lt;/A&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* &lt;B name={nameB} FunB={changeNameFunB}&gt;&lt;/B&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* &lt;C name={nameC} FunC={changeNameFunC}&gt;&lt;/C&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;A组件重新渲染且调用render&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunA<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用A组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>FunA<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">A组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunA<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">B</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;B组件重新渲染且调用render&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunB<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用B组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>FunB<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">B组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunB<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变B</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">C</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;C组件重新渲染且调用render&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunC<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用C组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>FunC<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">C组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunC<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变C</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>初始状态</p> <p><img src="data:image/png;base64,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" alt="Untitled"></p> <p>使用usememo后点击改变,调用改状态所在的组件render</p> <p><img src="data:image/png;base64,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" alt="Untitled"></p> <p>不使用usememo后点击改变,调用所有与父组件有关的组件的render</p> <p><img src="data:image/png;base64,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" alt="Untitled"></p> <ul><li>uescallback</li></ul> <p>避免其他子组件不必要的更新时render调用</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;父组件重新渲染且调用render&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameA<span class="token punctuation">,</span> setNameA<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameB<span class="token punctuation">,</span> setNameB<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameC<span class="token punctuation">,</span> setNameC<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span>
  <span class="token comment">/* 使用useCallback ==============*/</span>
  <span class="token keyword">const</span> changeNameFunA <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameA</span><span class="token punctuation">(</span><span class="token string">&quot;AAAA&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameA<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> changeNameFunB <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameB</span><span class="token punctuation">(</span><span class="token string">&quot;BBBB&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameB<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> changeNameFunC <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameC</span><span class="token punctuation">(</span><span class="token string">&quot;CCCC&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameC<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment">/* 不使用useCallback =============*/</span>
  <span class="token comment">// const changeNameFunA = () =&gt; {</span>
  <span class="token comment">//   setNameA(&quot;AAAA&quot;)</span>
  <span class="token comment">// }</span>
  <span class="token comment">// const changeNameFunB = () =&gt; {</span>
  <span class="token comment">//   setNameB(&quot;BBBB&quot;)</span>
  <span class="token comment">// }</span>
  <span class="token comment">// const changeNameFunC = () =&gt; {</span>
  <span class="token comment">//   setNameC(&quot;CCCC&quot;)</span>
  <span class="token comment">// }</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">A</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameA<span class="token punctuation">}</span></span> <span class="token attr-name">FunA</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunA<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">A</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">B</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameB<span class="token punctuation">}</span></span> <span class="token attr-name">FunB</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunB<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">B</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">C</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameC<span class="token punctuation">}</span></span> <span class="token attr-name">FunC</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunC<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">C</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;A组件重新渲染且调用render&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunA<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用A组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>FunA<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">A组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunA<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">B</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;B组件重新渲染且调用render&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunB<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用B组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>FunB<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">B组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunB<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变B</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">C</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;C组件重新渲染且调用render&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunC<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用C组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>FunC<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">C组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunC<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变C</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>初始状态</p> <p><img src="data:image/png;base64,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" alt="Untitled"></p> <p>不使用的情况下每次点击改变会执行所有子组件的更新时的render</p> <p><img src="data:image/png;base64,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" alt="Untitled"></p> <p>使用的情况下每次点击只会执行需要改变状态的组件render,子组件监听该函数</p> <p><img src="data:image/png;base64,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" alt="Untitled"></p> <ul><li>usememo与uescallback同时使用</li></ul> <p>原始代码：父组件，三个子组件，且子组件是兄弟关系</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;父组件重新渲染&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameA<span class="token punctuation">,</span> setNameA<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameB<span class="token punctuation">,</span> setNameB<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>nameC<span class="token punctuation">,</span> setNameC<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span>

	<span class="token comment">//未使用useCallback  </span>
  <span class="token comment">// const changeNameFunA =() =&gt; {</span>
  <span class="token comment">//   setNameA(&quot;AAAA&quot;)</span>
  <span class="token comment">// }</span>
  <span class="token comment">// const changeNameFunB = () =&gt; {</span>
  <span class="token comment">//   setNameB(&quot;BBBB&quot;)</span>
  <span class="token comment">// }</span>
  <span class="token comment">// const changeNameFunC = () =&gt; {</span>
  <span class="token comment">//   setNameC(&quot;CCCC&quot;)</span>
  <span class="token comment">// }</span>

	<span class="token comment">//使用useCallback</span>
  <span class="token comment">// useCallback:当子组件更新时，避免执行非必要的，减少render调用</span>
  <span class="token keyword">const</span> changeNameFunA <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameA</span><span class="token punctuation">(</span><span class="token string">&quot;AAAA&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameA<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> changeNameFunB <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameB</span><span class="token punctuation">(</span><span class="token string">&quot;BBBB&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameB<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> changeNameFunC <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setNameC</span><span class="token punctuation">(</span><span class="token string">&quot;CCCC&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameC<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment">// useMemo:当某个子组件更新时，避免调用其他子组件的render</span>
  <span class="token keyword">const</span> comA <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">A</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameA<span class="token punctuation">}</span></span> <span class="token attr-name">FunA</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunA<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameA<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> comB <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">B</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameB<span class="token punctuation">}</span></span> <span class="token attr-name">FunB</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunB<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameB<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> comC <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">C</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameC<span class="token punctuation">}</span></span> <span class="token attr-name">FunC</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeNameFunC<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>nameC<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">//更改组件</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>comA<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>comB<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>comC<span class="token punctuation">}</span><span class="token plain-text"> 
      </span><span class="token punctuation">{</span><span class="token comment">/* &lt;A name={nameA} FunA={changeNameFunA}&gt;&lt;/A&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* &lt;B name={nameB} FunB={changeNameFunB}&gt;&lt;/B&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* &lt;C name={nameC} FunC={changeNameFunC}&gt;&lt;/C&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;A组件重新渲染&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunA<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用A组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>FunA<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">A组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunA<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">B</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;B组件重新渲染&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunB<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用B组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>FunB<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">B组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunB<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变B</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">C</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;C组件重新渲染&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> FunC<span class="token punctuation">,</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> props
  React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用C组件的render'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>FunC<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">C组件：</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FunC<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变C</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div> <h2 id="usecontext"><a href="#usecontext" class="header-anchor">#</a> useContext</h2> <p>用于解决多个子组件传值</p> <p>创建一个Context.js文件,当作载体</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>
<span class="token keyword">const</span> CountContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> CountContext <span class="token punctuation">}</span>
</code></pre></div><p>在App.js中引入Context.js</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>CountContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./Context'</span><span class="token comment">//数据传递载体</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'./component/List'</span><span class="token comment">//子组件</span>
<span class="token keyword">import</span> Table <span class="token keyword">from</span> <span class="token string">'./component/Table'</span><span class="token comment">//子组件</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setnum<span class="token punctuation">]</span> <span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">setnum</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CountContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token punctuation">{</span>count<span class="token punctuation">,</span> setnum<span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">List</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Table</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Table</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">CountContext.Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token punctuation">{</span><span class="token comment">/* CountContext.Provider传递参数,Provider 接收一个 value 属性,value填入所需要传递的方法或值,在该标签内,所有的子组件都可以获得value所传递的方法或值,且内部的组件都会呗重新渲染 */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>子组件List</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CountContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../Context'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>count<span class="token punctuation">,</span>setnum<span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>CountContext<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取通过父组件传递的载体值</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token comment">//与父组件的count值一样</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token function">setnum</span><span class="token punctuation">(</span>count<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		  </span><span class="token punctuation">{</span><span class="token comment">/* 也可以使用父组件的方法 */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>与props做对比:context所传递的组件更多,使用 context, 我们可以避免通过中间元素传递 props：</p> <h2 id="usereducer"><a href="#usereducer" class="header-anchor">#</a> useReducer</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//[useState](https://react.docschina.org/docs/hooks-reference.html#usestate)的替代方案,常用于与useContext配合工作</span>
<span class="token comment">//state:外部当前值</span>
<span class="token comment">//disppatch:标记动作类型和包含所需要更改的值(type/value)</span>
<span class="token comment">//reducer:外部操作动作</span>
<span class="token comment">//initialState:外部对象,定义外部值的状态</span>
<span class="token comment">//语法格式</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">//外部引用的方法====</span>
<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">oldstate<span class="token punctuation">,</span> typedata</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">//不能直接修改外部状态的值,需要进行复制</span>
  <span class="token keyword">const</span> newdata <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>oldstate <span class="token punctuation">}</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>typedata<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'minus'</span><span class="token operator">:</span>
      newdata<span class="token punctuation">.</span>count<span class="token operator">--</span>
      <span class="token keyword">return</span> newdata
    <span class="token keyword">case</span> <span class="token string">'add'</span><span class="token operator">:</span>
      newdata<span class="token punctuation">.</span>count<span class="token operator">++</span>
      <span class="token keyword">return</span> newdata
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> oldstate
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//外部引用的方法====</span>
<span class="token comment">//外部引用的状态====</span>
<span class="token keyword">const</span> initState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token comment">//外部引用的状态====</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//将外部状态与方法内置化</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				<span class="token comment">//定义动作标记和携带的状态,type为必须</span>
        <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'minus'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token string">'111'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* 显示当前外部的值 */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'add'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token string">'222'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="usereducer与usecontext同时工作"><a href="#usereducer与usecontext同时工作" class="header-anchor">#</a> useReducer与useContext同时工作</h2> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">/*
  模拟场景,APP组件中有3个子组件,ABC,其中A控制B和C的状态,ABC均为兄弟组件
	附加:(此写法有性能浪费,可使用useMemo进行性能优化)!!!
*/</span>
<span class="token comment">//定义外部函数方法</span>
<span class="token keyword">const</span> <span class="token function-variable function">redecer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pervState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> newadata <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>pervState <span class="token punctuation">}</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'child2add'</span><span class="token operator">:</span>
      newadata<span class="token punctuation">.</span>count1<span class="token operator">++</span>
      <span class="token keyword">return</span> newadata
    <span class="token keyword">case</span> <span class="token string">'child3add'</span><span class="token operator">:</span>
      newadata<span class="token punctuation">.</span>count2<span class="token operator">++</span>
      <span class="token keyword">return</span> newadata
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> pervState
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//定义外部状态</span>
<span class="token keyword">const</span> initState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">count1</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">count2</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token operator">**</span><span class="token keyword">const</span> Contextstate <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">**</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//获取外部状态与方法</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> action<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useReducer</span><span class="token punctuation">(</span>redecer<span class="token punctuation">,</span> initState<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// 通过Contextstate.Provider向所有子组件转递外部定义的方法和状态</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Contextstate.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> state<span class="token punctuation">,</span> action <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">A</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">A</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">B</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">B</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">C</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">C</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Contextstate.Provider</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//定义子组件A</span>
<span class="token comment">//A组件控制BC组件的状态</span>
<span class="token keyword">const</span> <span class="token function-variable function">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//通过结构方法,获得父组件用useContext传递的方法action</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> action <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>Contextstate<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">//定义动作标记</span>
        <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'child2add'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变child2的值</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'child3add'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">改变child3的值</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//定义子组件B</span>
<span class="token keyword">const</span> <span class="token function-variable function">B</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token comment">//获得父组件用useContext传递的状态state</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> state <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>Contextstate<span class="token punctuation">)</span>
	<span class="token comment">//使用useMemo解决性能优化问题!!!减少不必要的reducer</span>
	<span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用B'</span><span class="token punctuation">)</span>
	  <span class="token keyword">return</span> <span class="token punctuation">(</span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	      Child2---</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>count1<span class="token punctuation">}</span><span class="token plain-text">
	    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	  <span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>state<span class="token punctuation">.</span>count1<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//定义子组件C</span>
<span class="token keyword">const</span> <span class="token function-variable function">C</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//同上</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> state <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>Contextstate<span class="token punctuation">)</span>
	<span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'调用C'</span><span class="token punctuation">)</span>
	  <span class="token keyword">return</span> <span class="token punctuation">(</span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	      Child3---</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>count2<span class="token punctuation">}</span><span class="token plain-text">
	    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	  <span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>state<span class="token punctuation">.</span>count2<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="Sakura" data-v-650495c6><canvas id="canvas_sakura" style="z-index:1;" data-v-650495c6></canvas></div><!----><div class="RibbonAnimation"></div><div id="goTop" class="hide-cat" data-v-a11242f6></div><div></div></div></div>
    <script src="/vuePress/assets/js/app.706f163f.js" defer></script><script src="/vuePress/assets/js/3.30e1241e.js" defer></script><script src="/vuePress/assets/js/1.4f9bc910.js" defer></script><script src="/vuePress/assets/js/8.8f3551b4.js" defer></script>
  </body>
</html>
